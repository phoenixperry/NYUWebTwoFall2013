<!DOCTYPE html>
<html>
	<head>
		<title> Ye Old Bob Sprite Sheet </title>
		<script src="easel.js"></script>

		<script>

			var stage;
			var canvas;
			var g;
			var circle;
			var logo;

			var data;
			var spriteSheet;
			var animation;

			function init() {
				canvas = document.getElementById('canvas');
				stage = new createjs.Stage(canvas);
				g = new createjs.Graphics();
				g.setStrokeStyle(1);
				g.beginStroke(createjs.Graphics.getRGB(0,0,0));
				s = new createjs.Shape(g);
				s.width = 640;
				s.height = 480;
				stage.addChild(s);

				// circle = new createjs.Shape();
				// circle.graphics.beginFill("red").drawCircle(50,50,50); 
				 createjs.Ticker.addEventListener("tick", stage);
				
				data = {
				// circle.x = 100; 
				// circle.y = 100; 
				// stage.addChild(circle);

				createjs.Ticker.setFPS(60);
     				//images: ["CharBobEyes.png"],
     				images: ["charBobWalking05.png"],
     				frames: {width:265, height:279},
     				//animations: {eyes:[0,1,"eyes",20]}
     				animations: {
     					walk: {
     						frames: [0,1,2,1],
     						next: "walk",
     						frequency: 18
     					}
     				}
				 };
				 spriteSheet = new createjs.SpriteSheet(data);
				 //console.log(spriteSheet);
				 animation = new createjs.BitmapAnimation(spriteSheet);
				 //console.log(animation);
				 animation.x = 200;
				 animation.y = 170;
				 stage.addChild(animation);
				 //animation.gotoAndPlay("eyes");
				 animation.gotoAndPlay("walk");
				 console.log("animated");

				//logo = new createjs.Bitmap (animation);
				// //logo.y = 325;

				// // //this is what you need to do to roate around a center point 
				// //logo.regX = logo.image.width *0.5; 
				// //logo.regY = logo.image.height * 0.5;
				// //stage.addChild(logo);
			}

			function tick() {
				//animation.x += (stage.mouseX - animation.x) * 0.5;
				if(animation.x < 640) {
					animation.x += 1
				}
				else{
					animation.x = -265
				};
				
				// g.lineTo(logo.x, logo.y); 
				// circle.x = circle.x + 10; 
				stage.update();
			}

		</script>

		<style type="text/css">
			canvas {
				background-image: url('charBackground.png');
			}
		</style>
	</head>

	<body onload="init()">
		<canvas width="640" height="480" id="canvas"></canvas>
	</body>
</html>